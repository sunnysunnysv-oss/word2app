<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Word2App - Instant Personal Apps</title>
  <link rel="manifest" href="manifest.json" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Poppins', sans-serif; 
      text-align: center; 
      padding: 50px 20px; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
      color: white; 
      min-height: 100vh;
      margin: 0;
    }
    .container {
      max-width: 500px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 40px 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.2);
    }
    h1 { font-size: 2.5em; margin-bottom: 10px; }
    p { font-size: 1.2em; margin-bottom: 30px; opacity: 0.9; }
    input { 
      font-size: 1.2em; 
      padding: 15px; 
      width: 80%; 
      max-width: 350px; 
      margin: 20px auto; 
      border: none; 
      border-radius: 50px; 
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    button { 
      font-size: 1.2em; 
      padding: 15px 40px; 
      background: white; 
      color: #667eea; 
      border: none; 
      border-radius: 50px; 
      cursor: pointer; 
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transition: all 0.3s;
      font-weight: 600;
    }
    button:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }
    #app-frame { 
      margin-top: 50px; 
      width: 380px; 
      height: 680px; 
      border: none;
      border-radius: 30px; 
      display: none; 
      margin: 50px auto; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      overflow: hidden;
    }
    .support { margin-top: 40px; font-size: 1em; }
    .support a { color: white; font-weight: 600; text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Word2App</h1>
    <p>Type one word ‚Üí Get your personal app instantly<br>(use lowercase: todo, journal, fitness, etc.)</p>
    <input type="text" id="word" placeholder="e.g., todo, journal, fitness" autofocus />
    <br/>
    <button onclick="generateApp()">Generate My App</button>
    
    <div class="support">
      <p>Enjoying Word2App? Support more templates! ‚òï</p>
      <a href="https://buymeacoffee.com/yourusername" target="_blank">Buy me a coffee</a>
    </div>
  </div>

  <iframe id="app-frame" sandbox="allow-scripts allow-same-origin"></iframe>

  <script>
    const templates = {
      todo: `<h2 style="color:#333;">My Todo List</h2><input id="task" placeholder="New task" style="padding:10px;width:80%;"/><button onclick="add()" style="padding:10px;">Add</button><ul id="list" style="list-style:none;padding:0;"></ul>
             <script>function add(){const li=document.createElement('li');li.textContent=document.getElementById('task').value;li.style.padding='10px';li.style.background='#f0f0f0';li.style.margin='5px';li.style.borderRadius='10px';document.getElementById('list').appendChild(li);document.getElementById('task').value='';localStorage.setItem('todos',document.getElementById('list').innerHTML);}document.getElementById('list').innerHTML=localStorage.getItem('todos')||'';</script>`,
      journal: `<h2 style="color:#333;">My Journal</h2><textarea id="entry" placeholder="Write today's thoughts..." style="width:90%;height:300px;padding:15px;font-size:1em;"></textarea><button onclick="save()" style="padding:10px;margin-top:10px;">Save Entry</button><div id="entries" style="text-align:left;margin-top:20px;"></div>
                <script>function save(){const d=new Date().toLocaleDateString();const div=document.createElement('div');div.innerHTML='<hr><b>'+d+'</b><p style="background:#f9f9f9;padding:15px;border-radius:10px;">'+document.getElementById('entry').value+'<\/p>';document.getElementById('entries').prepend(div);document.getElementById('entry').value='';}</script>`,
      // (Keep all other templates from previous fixed version - same as before)
      fitness: `<h2 style="color:#333;">Fitness Tracker</h2><input id="workout" placeholder="e.g., 20 pushups" style="padding:10px;width:70%;"/><button onclick="log()" style="padding:10px;">Log</button><ul id="log" style="list-style:none;padding:0;"></ul>
                <script>function log(){const li=document.createElement('li');li.textContent=new Date().toLocaleString()+': '+document.getElementById('workout').value;li.style.padding='10px';li.style.background='#e8f5e9';li.style.margin='5px';li.style.borderRadius='10px';document.getElementById('log').prepend(li);document.getElementById('workout').value='';}</script>`,
      budget: `<h2 style="color:#333;">Budget Tracker</h2><input id="item" placeholder="Item" style="padding:10px;"/><input id="amount" type="number" placeholder="Amount" style="padding:10px;"/><button onclick="add()" style="padding:10px;">Add</button><ul id="expenses" style="list-style:none;padding:0;"></ul><b>Total: <span id="total">0</span></b>
               <script>let total=0;function add(){const amt=parseFloat(document.getElementById('amount').value)||0;total+=amt;const li=document.createElement('li');li.textContent=document.getElementById('item').value+' - $'+amt;li.style.padding='10px';li.style.background='#fff3e0';li.style.margin='5px';li.style.borderRadius='10px';document.getElementById('expenses').prepend(li);document.getElementById('total').textContent=total;}</script>`,
      mood: `<h2 style="color:#333;">Mood Tracker</h2><select id="mood"><option>üòä Great</option><option>üòê Okay</option><option>üòî Low</option></select><button onclick="log()" style="padding:10px;">Log</button><ul id="log" style="list-style:none;padding:0;"></ul>
             <script>function log(){const li=document.createElement('li');li.textContent=new Date().toLocaleDateString()+': '+document.getElementById('mood').value;li.style.padding='10px';li.style.background='#e3f2fd';li.style.margin='5px';li.style.borderRadius='10px';document.getElementById('log').prepend(li);}</script>`,
      habit: `<h2 style="color:#333;">Habit Tracker</h2><p>Daily check-in:</p><button onclick="check()" style="font-size:50px;background:#4caf50;color:white;border:none;border-radius:50%;width:100px;height:100px;">‚úÖ</button><p>Streak: <span id="streak">0</span> days</p>
              <script>const today=new Date().toDateString();let streak=parseInt(localStorage.getItem('streak')||'0');const last=localStorage.getItem('last');if(last!==today){streak=(last===new Date(Date.now()-86400000).toDateString())?streak+1:1;localStorage.setItem('streak',streak);}function check(){localStorage.setItem('last',today);document.getElementById('streak').textContent=streak;alert('Checked! üî•');}document.getElementById('streak').textContent=streak;</script>`,
      notes: `<h2 style="color:#333;">My Notes</h2><textarea id="note" style="width:90%;height:400px;padding:15px;font-size:1em;"></textarea>
              <script>document.getElementById('note').value=localStorage.getItem('note')||'';document.getElementById('note').addEventListener('input',()=>{localStorage.setItem('note',document.getElementById('note').value);});</script>`,
      timer: `<h2 style="color:#333;">Pomodoro Timer</h2><div style="font-size:60px;color:#e91e63;" id="time">25:00</div><button onclick="start()" style="padding:10px 20px;background:#2196f3;color:white;border:none;border-radius:10px;margin:5px;">Start</button><button onclick="reset()" style="padding:10px 20px;background:#f44336;color:white;border:none;border-radius:10px;margin:5px;">Reset</button>
              <script>let time=1500,interval;function start(){if(interval) return;interval=setInterval(()=>{time--;let m=Math.floor(time/60),s=time%60;document.getElementById('time').textContent=(m<10?'0':'')+m+':'+(s<10?'0':'')+s;if(time<=0){clearInterval(interval);alert('Time up! üéâ');reset();}},1000);}function reset(){clearInterval(interval);interval=null;time=1500;document.getElementById('time').textContent='25:00';}</script>`
    };

    function generateApp() {
      let word = document.getElementById('word').value.trim().toLowerCase();
      if (!word) return alert("Type a word first!");
      let appName = word.charAt(0).toUpperCase() + word.slice(1);
      let content = templates[word] || `<h2 style="color:#333;">${appName} App</h2><p>Your personal ${appName} tool. More coming soon!</p>`;
      let html = `<!DOCTYPE html><html><head><title>${appName}</title><meta name="viewport" content="width=device-width,initial-scale=1"><style>body{font-family:'Poppins',sans-serif;margin:20px;text-align:center;background:#f8f9fa;padding:20px;}</style><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"></head><body>${content}</body></html>`;
      let frame = document.getElementById('app-frame');
      frame.style.display = "block";
      frame.srcdoc = html;
    }
  </script>
</body>
</html>
